# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
├── index.html                 
├── index.ts                  
├── /components
│   └── /base
│       ├── api.ts            
│       └── events.ts         
├── /utils
│   ├── constants.ts          
│   └── utils.ts              
├── /scss
│   └── styles.scss          
└── /images                  
Структура проекта
index.html — корневой HTML с шаблонами и модальными окнами.
index.ts — точка входа в приложение, инициализация API, EventBus, DOM-элементов.
/components — UI-компоненты и базовые классы (например, модалки, карточки, формы).
/models — модели данных: товар, заказ, пользователь, и т.д.
/utils — вспомогательные функции и константы.
/scss — стили, разбитые по компонентам.


Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами


## Структура проекта
Проект реализован по архитектурному паттерну MVC (Model-View-Controller).

### Model
#### `ProductModel`
- **Атрибуты:**
  - `id`, `title`, `description`, `image`, `price`, `category` — данные товара, полученные с бэкенда.
- **Методы:**
  - `fromApi(data)` — преобразует сырой ответ API в объект модели.
  - `toBasketItem()` — возвращает данные в формате, пригодном для отображения в корзине.
- **Задача:** инкапсулирует логику работы с данными одного товара.

#### `BasketModel`
- **Атрибуты:**
  - `items` — список товаров в корзине.
- **Методы:**
  - `addItem(product)`, `removeItem(id)`, `getTotal()` — управление содержимым корзины.
- **Задача:** управление состоянием корзины пользователя.

---

### View
#### `ProductCard`
- **Атрибуты:**
  - DOM-элемент карточки товара.
- **Методы:**
  - `render(product)` — отрисовка данных товара в карточку.
  - `setAddToCartHandler(callback)` — назначение обработчика кнопки.
- **Задача:** отображение товара в каталоге.

#### `Modal`
- **Атрибуты:**
  - DOM-обёртка модального окна, контентный контейнер.
- **Методы:**
  - `open(content)`, `close()` — управление показом.
- **Задача:** централизованное отображение модальных окон.

#### `BasketView`
- **Атрибуты:**
  - DOM-список, куда рендерятся товары.
- **Методы:**
  - `renderItems(items)` — отрисовка списка товаров.
  - `setSubmitHandler(callback)` — назначение обработчика оформления.
- **Задача:** отображение содержимого корзины.

---

### Controller
#### `AppController`
- **Атрибуты:**
  - ссылки на экземпляры моделей и вьюшек, `eventBus`, `api`.
- **Методы:**
  - `init()` — инициализация приложения, загрузка данных.
  - `handleAddToCart(product)` — добавление товара.
  - `handleSubmit()` — оформление заказа.
- **Задача:** связь между UI, моделью и API.

---

### Infrastructure
#### `Api`
- **Атрибуты:**
  - базовый URL, опции запроса.
- **Методы:**
  - `get(url)`, `post(url, data)` — абстракция над `fetch`.
- **Задача:** общение с сервером.

#### `EventEmitter`
- **Методы:**
  - `on(event, handler)`, `emit(event, payload)` — простая реализация паттерна Observer.
- **Задача:** реактивная связь между компонентами без tight coupling.

---

## Утилиты
#### `ensureElement`
- Проверка существования DOM-элемента по селектору. Бросает ошибку, если не найден.

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
